[
  {
    "type": "effect_on_condition",
    "id": "установка_ментального_здоровья",
    "eoc_type": "EVENT",
    "required_event": "game_start",
    "condition": { "compare_num": [ { "global_val": "var", "var_name": "был_ли_установлен_рассудок" }, "=", { "const": 0 } ] },
    "effect": [
	{ "arithmetic": [ { "u_val": "var", "var_name": "ментальное_здоровье" }, "=", { "const": 100 } ] },
	{ "arithmetic": [ { "u_val": "var", "var_name": "сила_воли" }, "=", { "const": 0 } ] },
	{ "arithmetic": [ { "global_val": "var", "var_name": "был_ли_установлен_рассудок" }, "=", { "const": 1 } ] }
	
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "сколько_рассудка",
     "effect": [ {"u_message": { "u_val": "ментальное_здоровье" },"popup":true} ]
  },
  
  
  {
    "type": "effect_on_condition",
    "id": "минус_хп",
     "effect": [ { "math": [ "u_hp('torso')", "-=", "10" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "Восстановление_рассудка",
     "effect": [ { "arithmetic": [ { "u_val": "var", "var_name": "ментальное_здоровье" }, "=", { "const": 100 } ] } ]
  },
  {
    "type": "jmath_function",
    "id": "урон_пси",
    "num_args": 0,
    "return": "модификатор() + сила_воли_мод()"
  },
  {
    "type": "jmath_function",
    "id": "хилл_пси",
    "num_args": 0,
    "return": "модификатор() + сила_воли_мод()"
  },
  {
    "type": "jmath_function",
    "id": "сила_воли_мод",
    "num_args": 0,
    "return": "u_сила_воли / 100"
  },
  {
    "type": "jmath_function",
    "id": "модификатор",
    "num_args": 0,
    "return": "u_val('morale') / 60"
  },
  {
    "type": "jmath_function",
    "id": "урон_пси_тело",
    "num_args": 0,
    "return": "10 - rand(10)"
  },
  {
    "type": "jmath_function",
    "id": "max_mind",
    "num_args": 0,
    "return": "100 + (lol/8)"
  },
  {
    "type": "jmath_function",
    "id": "min_mind",
    "num_args": 0,
    "return": "(-100) + (lol/8)"
  },
  {
    "type": "effect_on_condition",
    "id": "Обновление_переменной_морали",
    "eoc_type": "RECURRING",
    "condition": { "compare_num": [ { "global_val": "var", "var_name": "Testing_mode" }, "=", { "const": 1 } ] },
    "recurrence": "60 seconds",
    "effect": [
    	{ "math": [ "Проверка_морали", "=", "u_val('morale')"]},
    	{ "math": [ "модификаторз", "=", "модификатор()" ]},
    	{ "math": [ "lol", "=", "u_val('intelligence')" ]},
    	{ "math": [ "lolz", "=", "max_mind()" ]},
    	{ "math": [ "lolzl", "=", "min_mind()" ]},
    	{ "math": [ "урон_пси1", "=", "урон_пси()" ]},
    	{ "math": [ "хилл_пси1", "=", "хилл_пси()" ]},
    	{ "run_eocs": "Повреждение_рассудка_изза_морали" } ,
    	{ "run_eocs": "Восстановление_рассудка_изза_морали" } ,
    	{ "run_eocs": "Максимальный_рассудок" } ,
    	{ "run_eocs": "min_рассудок" } ,
        {"u_message":  "Произошла проверка морали"},
        {"u_message":  "Мораль: <global_val:Проверка_морали>\nРассудок: <u_val:ментальное_здоровье>\nМакс рассудок: <global_val:lolz>\nСила воли: <u_val:сила_воли>\nМодификатор урона: <global_val:модификаторз>\nХилл пси: <global_val:хилл_пси1>\nУрон пси: <global_val:урон_пси1>"}
	],
	"false_effect":[
    	{ "math": [ "Проверка_морали", "=", "u_val('morale')"]},
    	{ "math": [ "модификаторз", "=", "модификатор()" ]},
    	{ "math": [ "lol", "=", "u_val('intelligence')" ]},
    	{ "math": [ "lolz", "=", "max_mind()" ]},
    	{ "math": [ "lolzl", "=", "min_mind()" ]},
    	{ "math": [ "урон_пси1", "=", "урон_пси()" ]},
    	{ "math": [ "хилл_пси1", "=", "хилл_пси()" ]},
    	{ "run_eocs": "Повреждение_рассудка_изза_морали" } ,
    	{ "run_eocs": "Восстановление_рассудка_изза_морали" } ,
    	{ "run_eocs": "Максимальный_рассудок" } ,
    	{ "run_eocs": "min_рассудок" }
	]
  },
  {
    "type": "effect_on_condition",
    "id": "Максимальный_рассудок",
    "eoc_type": "ACTIVATION",
    "condition": { "compare_num": [ { "u_val": "var", "var_name": "ментальное_здоровье" }, ">=", { "global_val": "var", "var_name": "lolz" } ] },
    "effect": [
        { "arithmetic": [ { "u_val": "var", "var_name": "ментальное_здоровье" }, "=", { "global_val": "var", "var_name": "lolz" } ] }
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "min_рассудок",
    "eoc_type": "ACTIVATION",
    "condition": { "compare_num": [ { "u_val": "var", "var_name": "ментальное_здоровье" }, "<=", { "global_val":"var","var_name":"lolzl"} ] },
    "effect": [
        { "arithmetic": [ { "u_val": "var", "var_name": "ментальное_здоровье" }, "=", { "global_val":"var","var_name":"lolzl"} ] }
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "Восстановление_рассудка_изза_морали",
    "eoc_type": "ACTIVATION",
    "condition": { "compare_num": [ { "global_val": "var", "var_name": "Проверка_морали" }, ">", { "const": 5 } ] },
    "effect": [
    	{ "math": [  "u_ментальное_здоровье", "+=", "хилл_пси()" ] }
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "Повреждение_рассудка_изза_морали",
    "eoc_type": "ACTIVATION",
    "condition": { "compare_num": [ { "global_val": "var", "var_name": "Проверка_морали" }, "<", { "const": -5 } ] },
    "effect": [
    	{ "math": [  "u_ментальное_здоровье", "+=", "урон_пси()" ] }
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "повреждение_рассудка",
    "eoc_type": "RECURRING",
    "recurrence": [ "25 seconds", "45 seconds" ],
    "condition": { "u_has_effect": "повреждение_разума" },
    "effect": [
	{ "math": [  "u_ментальное_здоровье", "+=", "-1" ] }
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "повреждение_рассудка1",
    "eoc_type": "RECURRING",
    "recurrence": [ "25 seconds", "45 seconds" ],
    "condition": { "u_has_effect": "taint" },
    "effect": [
	{ "math": [  "u_ментальное_здоровье", "+=", "-1" ] }
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "повреждение",
    "eoc_type": "RECURRING",
    "recurrence": [ "65 seconds", "125 seconds" ],
    "condition": { "compare_num": [ { "u_val": "var", "var_name": "ментальное_здоровье" }, "<=", { "const": 5 } ] },
    "effect": [
	{ "math": [ "u_hp('head')", "-=", "урон_пси_тело()" ] }
	] 
  }
]
